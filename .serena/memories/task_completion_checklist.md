# タスク完了時チェックリスト

## コード変更後

### 1. ビルドの確認
```bash
darwin-rebuild build --flake .
```
- エラーがないことを確認

### 2. 設定の適用（テスト環境）
```bash
darwin-rebuild switch --flake .
```
- 変更が正しく適用されることを確認

### 3. 動作確認
- 追加/変更したパッケージが動作することを確認
- 設定が期待通りに反映されていることを確認

## コミット前

### 1. 変更内容の確認
```bash
git status
git diff
```

### 2. Nixファイルの構文確認
- ビルドが成功していれば構文は問題なし

### 3. 不要なファイルがないか確認
- `personal.nix` がコミットに含まれていないこと
- 一時ファイルがないこと

## PRを作成する場合

### 1. ブランチを作成
```bash
git checkout -b feature/機能名
```

### 2. コミット
- 明確で簡潔なコミットメッセージ
- 1つの変更につき1つのコミット推奨

### 3. PRの説明
- 何を変更したか
- なぜ変更が必要か
- テスト方法

## トラブルシューティング

### ビルドエラーの場合
```bash
darwin-rebuild --show-trace switch --flake .
```
- エラーメッセージを確認
- 依存関係の問題をチェック

### 動作に問題がある場合
```bash
darwin-rebuild rollback
```
- 前の世代に戻して動作確認
